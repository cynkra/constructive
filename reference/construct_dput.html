<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Construct using only low level constructors — construct_dput • constructive</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construct using only low level constructors — construct_dput"><meta name="description" content="

construct_dput() is a closer counterpart to base::dput() that doesn't
use higher level constructors such as data.frame(), factor().
construct_base() uses higher constructors, but only for the classes
maintained in the default base R packages, so this includes data.frame()
and factor(), the S4 constructors from the 'method' package etc,
but not data.table() and other constructors for classes from other
packages.

"><meta property="og:description" content="

construct_dput() is a closer counterpart to base::dput() that doesn't
use higher level constructors such as data.frame(), factor().
construct_base() uses higher constructors, but only for the classes
maintained in the default base R packages, so this includes data.frame()
and factor(), the S4 constructors from the 'method' package etc,
but not data.table() and other constructors for classes from other
packages.

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">constructive</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/User-defined-methods-and-constructors.html">Extending constructive</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cynkra/constructive/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Construct using only low level constructors</h1>
      <small class="dont-index">Source: <a href="https://github.com/cynkra/constructive/blob/main/R/construct_dput.R" class="external-link"><code>R/construct_dput.R</code></a></small>
      <div class="d-none name"><code>construct_dput.Rd</code></div>
    </div>

    <div class="ref-description section level2">

<ul><li><p><code>construct_dput()</code> is a closer counterpart to <code><a href="https://rdrr.io/r/base/dput.html" class="external-link">base::dput()</a></code> that doesn't
use higher level constructors such as <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code>, <code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor()</a></code>.</p></li>
<li><p><code>construct_base()</code> uses higher constructors, but only for the classes
maintained in the default base R packages, so this includes <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code>
and <code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor()</a></code>, the S4 constructors from the 'method' package etc,
but not <code>data.table()</code> and other constructors for classes from other
packages.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">construct_dput</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pipe <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unicode_representation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ascii"</span>, <span class="st">"latin"</span>, <span class="st">"character"</span>, <span class="st">"unicode"</span><span class="op">)</span>,</span>
<span>  escape <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pedantic_encoding <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  compare <span class="op">=</span> <span class="fu"><a href="compare_options.html">compare_options</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  one_liner <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  template <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"constructive_opts_template"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">construct_base</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pipe <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unicode_representation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ascii"</span>, <span class="st">"latin"</span>, <span class="st">"character"</span>, <span class="st">"unicode"</span><span class="op">)</span>,</span>
<span>  escape <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pedantic_encoding <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  compare <span class="op">=</span> <span class="fu"><a href="compare_options.html">compare_options</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  one_liner <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  template <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"constructive_opts_template"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object, for <code><a href="construct.html">construct_multi()</a></code> a named list or an environment.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Constructive options built with the <code>opts_*()</code> family of functions. See the "Constructive options"
section below.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Named list or environment of objects we want to detect and mention by name (as opposed to
deparsing them further). Can also contain unnamed nested lists, environments, or
package names, in the latter case package exports and datasets will be considered.
In case of conflict, the last provided name is considered.</p></dd>


<dt id="arg-pipe">pipe<a class="anchor" aria-label="anchor" href="#arg-pipe"></a></dt>
<dd><p>Which pipe to use, either <code>"base"</code> or <code>"magrittr"</code>.
Defaults to <code>"base"</code> for R &gt;= 4.2, otherwise to <code>"magrittr"</code>.</p></dd>


<dt id="arg-check">check<a class="anchor" aria-label="anchor" href="#arg-check"></a></dt>
<dd><p>Boolean. Whether to check if the created code reproduces the object
using <code><a href="https://waldo.r-lib.org/reference/compare.html" class="external-link">waldo::compare()</a></code>.</p></dd>


<dt id="arg-unicode-representation">unicode_representation<a class="anchor" aria-label="anchor" href="#arg-unicode-representation"></a></dt>
<dd><p>By default "ascii", which means only ASCII characters
(code point &lt; 128) will be used to construct strings and variable names. This makes sure that
homoglyphs (different spaces and other identically displayed unicode characters)
are printed differently, and avoid possible unfortunate copy and paste
auto conversion issues. "latin" is more lax and uses all latin characters
(code point &lt; 256). "character" shows all characters, but not emojis. Finally
"unicode" displays all characters and emojis, which is what <code><a href="https://rdrr.io/r/base/dput.html" class="external-link">dput()</a></code> does.</p></dd>


<dt id="arg-escape">escape<a class="anchor" aria-label="anchor" href="#arg-escape"></a></dt>
<dd><p>Boolean. Whether to escape double quotes and backslashes. If <code>FALSE</code> we use
single quotes to surround strings (including variable and element names)
containing double quotes, and raw strings for strings that contain backslashes
and/or a combination of single and double quotes. Depending on
<code>unicode_representation</code> <code>escape = FALSE</code> cannot be applied on all strings.</p></dd>


<dt id="arg-pedantic-encoding">pedantic_encoding<a class="anchor" aria-label="anchor" href="#arg-pedantic-encoding"></a></dt>
<dd><p>Boolean. Whether to mark strings with the "unknown" encoding
rather than an explicit native encoding ("UTF-8" or "latin1") when it's
necessary to reproduce the binary representation exactly. This is pedantic
in the sense that it's not necessary to have a faithful output in the sense
of <code><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical()</a></code>. The reason why we're not pedantic by default is that
the constructed code might be different in the console and in snapshot
tests and reprexes due to the latter rounding some angles, and it would
be confusing for users.</p></dd>


<dt id="arg-compare">compare<a class="anchor" aria-label="anchor" href="#arg-compare"></a></dt>
<dd><p>Parameters passed to <code><a href="https://waldo.r-lib.org/reference/compare.html" class="external-link">waldo::compare()</a></code>, built with <code><a href="compare_options.html">compare_options()</a></code>.</p></dd>


<dt id="arg-one-liner">one_liner<a class="anchor" aria-label="anchor" href="#arg-one-liner"></a></dt>
<dd><p>Boolean. Whether to collapse the output to a single line of code.</p></dd>


<dt id="arg-template">template<a class="anchor" aria-label="anchor" href="#arg-template"></a></dt>
<dd><p>A list of constructive options built with <code>opts_*()</code> functions,
they will be overriden by <code>...</code>. Use it to set a default
behavior for <code>{constructive}</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class 'constructive'.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Both functions are valuable for object inspection, and might provide more
stable snapshots, since supporting more classes in the package means
the default output of <code><a href="construct.html">construct()</a></code> might change over time for some objects.</p>
<p>To use higher level constructor from the base package itself, excluding
for instance <code><a href="https://rdrr.io/r/stats/ts.html" class="external-link">stats::ts()</a></code>, <code><a href="https://rdrr.io/r/utils/person.html" class="external-link">utils::person()</a></code> or
<code>methods::classGeneratorFunction()</code>), we can call <code>construct(x, classes = "{base}"</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">construct_dput</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">construct_base</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Antoine Fabri.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>

    </footer></div>





  </body></html>

